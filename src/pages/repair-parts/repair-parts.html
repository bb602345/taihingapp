<!--
  Generated template for the RepairParts page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>維修零件</ion-title>

    <ion-buttons end>
        <button ion-button icon-only style="margin-top:-20px;" (click)="addPartsItem()">
            <ion-icon name="md-add"></ion-icon>
        </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-list class="parts-list">
    <div *ngFor="let t of TotalList;">
      <ion-item style="padding-left:0px; height:60px;" class="item-first">
          <ion-select [(ngModel)]="ChooseCats[t]" style="width:30%" (ionChange)="pickCat()">
            <ion-option value="all">全部</ion-option>
            <ion-option 
                *ngFor="let c of PartCat;"
                [value]="c" >{{c}}
            </ion-option>
          </ion-select>

          <ion-select [(ngModel)]="ChooseParts[t]" style="width:65%; max-width:65%;" (ionChange)="pickPart()">
            <ion-option 
                *ngFor="let p of FiltedParts[t];" 
                [value]="p.sqlID">{{p.name}} {{p.remark?'-'+p.remark:''}}
            </ion-option>
          </ion-select>

          <!-- <ion-input type="tel" class="parts-input" [id]="'uom-' + t" name="次"></ion-input> -->
          <ion-icon (click)="delete(t)" color="danger" item-right name="close-circle" style="margin-top:11px;"></ion-icon>
      </ion-item>

      <ion-item style="height:40px;">
        <div item-content style="width:100%; font-size:1.14em; ">
          <div style="float:left;width:60%">
            <ion-icon (click)="remove($event, t)" name="remove-circle" style="margin-top:8px; margin-left:5px; font-size:27.5px; float:left; color:#F0AD4E; z-index:100;"></ion-icon>
            <ion-input type="tel" class="parts-input" [id]="'uom-' + t" name="次" value="0"></ion-input>
            <ion-icon (click)="add($event, t)" color="secondary" name="add-circle" style="margin-top:8px; font-size:27.5px; float:left; z-index:100;"></ion-icon>
          </div>
          <div class="parts-price" [id]="'price-' + t">$0</div>
        </div>
      </ion-item>
    </div>

  </ion-list>

</ion-content>

<ion-footer>
  <ion-toolbar style="min-height:60px;" class="parts-price-total">
    <ion-title>
      <div style="float:left; font-size:5rem; padding-left:15px;">合計: </div>
      <div style="float:right; font-size:5rem; padding-right:15px;" id="totalPrice">$0</div>
    </ion-title>
  </ion-toolbar>
</ion-footer>
